{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/leaflet-icon-glyph.ts","./src/app/mapbox-v1.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".contents {\\r\\n\\tdisplay: flex;\\r\\n\\theight: 100vh;\\r\\n}\\r\\n\\r\\nlabel {\\r\\n\\tfont-size: 0.75rem;\\r\\n}\\r\\n\\r\\n.col-6 {\\r\\n\\tpadding-left: 0;\\r\\n\\tpadding-right: 0;\\r\\n}\\r\\n\\r\\n.stop-type {\\r\\n\\ttext-decoration: underline;\\r\\n\\topacity: 0.75;\\r\\n}\\r\\n\\r\\n.stop-type:hover {\\r\\n\\topacity: 1;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.stop-type.active {\\r\\n\\topacity: 1;\\r\\n\\tcolor: #5f99f7;\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/app.component.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,aAAa;CACb,aAAa;AACd;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,eAAe;CACf,gBAAgB;AACjB;;AAEA;CACC,0BAA0B;CAC1B,aAAa;AACd;;AAEA;CACC,UAAU;CACV,eAAe;AAChB;;AAEA;CACC,UAAU;CACV,cAAc;AACf\",\"sourcesContent\":[\".contents {\\r\\n\\tdisplay: flex;\\r\\n\\theight: 100vh;\\r\\n}\\r\\n\\r\\nlabel {\\r\\n\\tfont-size: 0.75rem;\\r\\n}\\r\\n\\r\\n.col-6 {\\r\\n\\tpadding-left: 0;\\r\\n\\tpadding-right: 0;\\r\\n}\\r\\n\\r\\n.stop-type {\\r\\n\\ttext-decoration: underline;\\r\\n\\topacity: 0.75;\\r\\n}\\r\\n\\r\\n.stop-type:hover {\\r\\n\\topacity: 1;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.stop-type.active {\\r\\n\\topacity: 1;\\r\\n\\tcolor: #5f99f7;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import { LeafletIconGlyphService } from \"./leaflet-icon-glyph\";\nimport { Component, ElementRef, ViewChild } from \"@angular/core\";\nimport { latLng, tileLayer, Icon, icon, Marker } from \"leaflet\";\nimport { default as jsonData } from \"./customer-addresses.json\";\nimport { CustomerAddress } from \"./customer-address.model\";\nimport \"leaflet\";\nimport * as polyUtil from \"polyline-encoded\";\nimport \"leaflet-routing-machine\";\nimport { ConfirmationService, MessageService } from \"primeng/api\";\nimport { MapboxV1Service as MapboxService } from \"./mapbox-v1.service\";\ndeclare let L;\n\n@Component({\n\tselector: \"app-root\",\n\ttemplateUrl: \"./app.component.html\",\n\tstyleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n\tconstructor(\n\t\tprivate confirmationService: ConfirmationService,\n\t\tprivate mapboxService: MapboxService,\n\t\tprivate leafletIconGlyphService: LeafletIconGlyphService\n\t) {\n\t\tthis.leafletIconGlyphService.setup();\n\t\tthis.locations = (jsonData.data as Array<CustomerAddress>).map(\n\t\t\t(address) => {\n\t\t\t\taddress.isOrigin = false;\n\t\t\t\taddress.isDestination = false;\n\t\t\t\treturn address;\n\t\t\t}\n\t\t);\n\t}\n\n\t// LOCATIONS + MODAL\n\tshowCustomerAddressesModal: boolean = false;\n\tlocations: Array<CustomerAddress> = [];\n\tselectedLocations = [];\n\n\tonAddNewCustomAddressButtonClicked() {\n\t\tthis.tmpSelectedLocations = [...this.selectedLocations];\n\t\tthis.showCustomerAddressesModal = true;\n\t}\n\n\ttmpSelectedLocations = [];\n\ttmpSelectedLocation: any = {};\n\tsuggestedLocations: Array<CustomerAddress> = [];\n\tsuggestLocations(event) {\n\t\tconst selectedIds = this.selectedLocations.map(\n\t\t\t(location) => location.id\n\t\t);\n\t\tthis.suggestedLocations = this.locations\n\t\t\t.filter((location) => !selectedIds.includes(location.id))\n\t\t\t.filter((location) =>\n\t\t\t\tlocation.company\n\t\t\t\t\t.toLocaleLowerCase()\n\t\t\t\t\t.includes(event.query.toLocaleLowerCase())\n\t\t\t);\n\t}\n\n\tonLocationSelected() {\n\t\tif (this.tmpSelectedLocation.id) {\n\t\t\tthis.tmpSelectedLocations = [\n\t\t\t\t...this.tmpSelectedLocations,\n\t\t\t\t{ ...this.tmpSelectedLocation }\n\t\t\t];\n\t\t\tthis.tmpSelectedLocation = \"\";\n\t\t}\n\t}\n\n\tonAddTmpLocationsButtonClicked(event: any) {\n\t\tconst matches = this.tmpSelectedLocations.filter(\n\t\t\t(location) => location.isOrigin || location.isDestination\n\t\t);\n\t\tif (matches && matches.length == 2) {\n\t\t\tthis.selectedLocations = [...this.tmpSelectedLocations];\n\t\t\tthis.tmpSelectedLocations = [];\n\t\t\tthis.showCustomerAddressesModal = false;\n\t\t} else {\n\t\t\tlet msg =\n\t\t\t\t\"Es obligatorio marcar una dirección de origen y otra de destino.\";\n\t\t\tif (matches.length == 1) {\n\t\t\t\tif (matches[0].isOrigin) {\n\t\t\t\t\tmsg = \"Es obligatorio marcar una dirección de destino.\";\n\t\t\t\t} else {\n\t\t\t\t\tmsg = \"Es obligatorio marcar una dirección de origen.\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.confirmationService.confirm({\n\t\t\t\ttarget: event.target,\n\t\t\t\tmessage: msg,\n\t\t\t\tacceptLabel: \"Aceptar\",\n\t\t\t\trejectVisible: false,\n\t\t\t\ticon: \"pi pi-exclamation-triangle\",\n\t\t\t\taccept: () => {},\n\t\t\t\treject: () => {\n\t\t\t\t\tthis.showCustomerAddressesModal = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tresetOrigin() {\n\t\tthis.tmpSelectedLocations = this.tmpSelectedLocations.map(\n\t\t\t(location) => {\n\t\t\t\tlocation.isOrigin = false;\n\t\t\t\treturn location;\n\t\t\t}\n\t\t);\n\t}\n\n\tresetDestination() {\n\t\tthis.tmpSelectedLocations = this.tmpSelectedLocations.map(\n\t\t\t(location) => {\n\t\t\t\tlocation.isDestination = false;\n\t\t\t\treturn location;\n\t\t\t}\n\t\t);\n\t}\n\n\tgetOriginLocation() {\n\t\tconst match = this.selectedLocations.find(\n\t\t\t(location) => location.isOrigin\n\t\t);\n\t\tif (match) {\n\t\t\treturn match;\n\t\t}\n\t\treturn { company: \"\" };\n\t}\n\n\tgetIntermediateLocations() {\n\t\treturn this.selectedLocations.filter(\n\t\t\t(location) => !location.isOrigin && !location.isDestination\n\t\t);\n\t}\n\n\tgetDestinationLocation() {\n\t\tconst match = this.selectedLocations.find(\n\t\t\t(location) => location.isDestination\n\t\t);\n\t\tif (match) {\n\t\t\treturn match;\n\t\t}\n\t\treturn { company: \"\" };\n\t}\n\n\t// STOP OPTIONS\n\tstartTime: string = \"\";\n\tendTime: string = \"\";\n\n\tstopOptions: Array<{ name: string; id: number }> = [\n\t\t{ name: \"Parada por descarga\", id: 1 },\n\t\t{ name: \"Parada por repostaje\", id: 2 },\n\t\t{ name: \"Parada por descanso\", id: 3 }\n\t];\n\tselectedStopOptions: Array<{ id: number; time: string }> = [];\n\n\tonAddStopOptionButtonClicked() {\n\t\tthis.selectedStopOptions = [\n\t\t\t...JSON.parse(JSON.stringify(this.selectedStopOptions || [])),\n\t\t\t{ id: 0, time: \"\" }\n\t\t];\n\t}\n\n\t// FILTERS\n\tselectedFilters = [];\n\n\t// Calculate\n\ttotalDuration: string = \"\";\n\ttravelDuration: string = \"\";\n\tdroppoffsDurations: string = \"\";\n\tonCalculateRouteButtonClicked() {\n\t\tconst origin = this.selectedLocations.find(\n\t\t\t(location) => location.isOrigin\n\t\t);\n\t\tconst destination = this.selectedLocations.find(\n\t\t\t(location) => location.isDestination\n\t\t);\n\t\tconst stops = this.selectedLocations.filter(\n\t\t\t(location) => !location.isOrigin && !location.isDestination\n\t\t);\n\t\tthis.mapboxService\n\t\t\t.calculate({\n\t\t\t\torigin: origin,\n\t\t\t\tdestination: destination,\n\t\t\t\tstops: stops,\n\t\t\t\tstopOptions: this.selectedStopOptions,\n\t\t\t\tstartTime: this.startTime,\n\t\t\t\tendTime: this.endTime\n\t\t\t})\n\t\t\t.subscribe((res) => {\n\t\t\t\tconsole.log(\"RESPUESTA de mapbox\", res);\n\t\t\t\tif (res.solution) {\n\t\t\t\t\tconst waypoints = res.solution.map((location) =>\n\t\t\t\t\t\tL.latLng(location.latitude, location.longitude)\n\t\t\t\t\t);\n\t\t\t\t\tthis.routingControl.setWaypoints(waypoints);\n\t\t\t\t\tthis.selectedLocations = res.solution;\n\t\t\t\t\tconst polylineDecoded = polyUtil.decode(\n\t\t\t\t\t\tres.trips[0].geometry\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.droppoffsDurations = this.secondsToHoursAndMinutes(\n\t\t\t\t\t\tthis.stopsToSeconds()\n\t\t\t\t\t);\n\t\t\t\t\tthis.travelDuration = this.secondsToHoursAndMinutes(\n\t\t\t\t\t\tres.trips[0].duration\n\t\t\t\t\t);\n\t\t\t\t\tthis.totalDuration = this.secondsToHoursAndMinutes(\n\t\t\t\t\t\tres.trips[0].duration + this.stopsToSeconds()\n\t\t\t\t\t);\n\t\t\t\t\tL.geoJSON(polylineDecoded).addTo(this.map);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate stopsToSeconds() {\n\t\tlet total = 0;\n\t\tfor (let stop of this.selectedStopOptions) {\n\t\t\tif (stop.id) {\n\t\t\t\tconst [h, m]: any = stop.time.split(\":\");\n\t\t\t\tconst hours = Number.parseInt(h) * 60 * 60;\n\t\t\t\tconst minutes = Number.parseInt(m) * 60;\n\t\t\t\ttotal += hours + minutes;\n\t\t\t}\n\t\t}\n\t\treturn total;\n\t}\n\n\tprivate secondsToHoursAndMinutes(d: number) {\n\t\tlet h = Math.floor(d / 3600);\n\t\tlet m = Math.floor((d % 3600) / 60);\n\t\tlet s = Math.floor((d % 3600) % 60);\n\t\treturn `${h}h ${m}m ${s}s`;\n\t}\n\n\t// MAP!!\n\toptions = {\n\t\tlayers: [\n\t\t\ttileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n\t\t\t\tattribution: \"© OpenStreetMap contributors\"\n\t\t\t})\n\t\t],\n\t\tzoom: 2,\n\t\tcenter: latLng(46.879966, -121.726909)\n\t};\n\n\tprivate map = undefined;\n\tprivate routingControl = undefined;\n\tonMapReady(map: L.Map) {\n\t\tthis.map = map;\n\t\tthis.routingControl = L.Routing.control({\n\t\t\tshow: false,\n\t\t\tdraggableWaypoints: false,\n\t\t\twaypoints: [],\n\t\t\tshowAlternatives: false,\n\t\t\trouteWhileDragging: false,\n\t\t\tlineOptions: {\n\t\t\t\tstyles: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: \"#5f99f7\",\n\t\t\t\t\t\tdashArray: \"5,10\",\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tweight: 5\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tcreateMarker: (i, wp) => {\n\t\t\t\treturn L.marker(wp.latLng, {\n\t\t\t\t\ticon: L.icon.glyph({\n\t\t\t\t\t\tprefix: \"\",\n\t\t\t\t\t\tglyph: i + 1 + \"\"\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t}).addTo(map);\n\t}\n}\n","import { BrowserModule } from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { NgModule } from \"@angular/core\";\nimport { LeafletModule } from \"@asymmetrik/ngx-leaflet\";\nimport { InputTextModule } from \"primeng/inputtext\";\nimport { AppComponent } from \"./app.component\";\nimport { FormsModule } from \"@angular/forms\";\nimport { ButtonModule } from \"primeng/button\";\nimport { ScrollPanelModule } from \"primeng/scrollpanel\";\nimport { DropdownModule } from \"primeng/dropdown\";\nimport { InputMaskModule } from \"primeng/inputmask\";\nimport { DividerModule } from \"primeng/divider\";\nimport { CheckboxModule } from \"primeng/checkbox\";\nimport { DialogModule } from \"primeng/dialog\";\nimport { AutoCompleteModule } from \"primeng/autocomplete\";\nimport { TooltipModule } from \"primeng/tooltip\";\nimport { ConfirmPopupModule } from \"primeng/confirmpopup\";\nimport { ConfirmationService } from \"primeng/api\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { LeafletIconGlyphService } from \"./leaflet-icon-glyph\";\n\n@NgModule({\n\tdeclarations: [AppComponent],\n\timports: [\n\t\tBrowserModule,\n\t\tBrowserAnimationsModule,\n\t\tLeafletModule,\n\t\tAutoCompleteModule,\n\t\tInputTextModule,\n\t\tFormsModule,\n\t\tButtonModule,\n\t\tScrollPanelModule,\n\t\tDropdownModule,\n\t\tInputMaskModule,\n\t\tInputTextModule,\n\t\tDividerModule,\n\t\tCheckboxModule,\n\t\tDialogModule,\n\t\tTooltipModule,\n\t\tConfirmPopupModule,\n\t\tHttpClientModule\n\t],\n\tproviders: [ConfirmationService, LeafletIconGlyphService],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule {}\n","declare let L;\r\n\r\nexport class LeafletIconGlyphService {\r\n\tconstructor() {\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\t setup() {\r\n\t\tL.Icon.Glyph = L.Icon.extend({\r\n\t\t\toptions: {\r\n\t\t\t\ticonSize: [25, 41],\r\n\t\t\t\ticonAnchor: [12, 41],\r\n\t\t\t\tpopupAnchor: [1, -34],\r\n\t\t\t\tshadowSize: [41, 41],\r\n\t\t\t\t// \t\ticonUrl: 'glyph-marker-icon.png',\r\n\t\t\t\t// \t\ticonSize: [35, 45],\r\n\t\t\t\t// \t\ticonAnchor:   [17, 42],\r\n\t\t\t\t// \t\tpopupAnchor: [1, -32],\r\n\t\t\t\t// \t\tshadowAnchor: [10, 12],\r\n\t\t\t\t// \t\tshadowSize: [36, 16],\r\n\t\t\t\t// \t\tbgPos: (Point)\r\n\t\t\t\tclassName: \"\",\r\n\t\t\t\tprefix: \"\",\r\n\t\t\t\tglyph: \"home\",\r\n\t\t\t\tglyphColor: \"white\",\r\n\t\t\t\tglyphSize: \"11px\", // in CSS units\r\n\t\t\t\tglyphAnchor: [0, -7] // In pixels, counting from the center of the image.\r\n\t\t\t},\r\n\r\n\t\t\tcreateIcon: function () {\r\n\t\t\t\tvar div = document.createElement(\"div\"),\r\n\t\t\t\t\toptions = this.options;\r\n\r\n\t\t\t\tif (options.glyph) {\r\n\t\t\t\t\tdiv.appendChild(this._createGlyph());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._setIconStyles(div, options.className);\r\n\t\t\t\treturn div;\r\n\t\t\t},\r\n\r\n\t\t\t_createGlyph: function () {\r\n\t\t\t\tvar glyphClass,\r\n\t\t\t\t\ttextContent,\r\n\t\t\t\t\toptions = this.options;\r\n\r\n\t\t\t\tif (!options.prefix) {\r\n\t\t\t\t\tglyphClass = \"\";\r\n\t\t\t\t\ttextContent = options.glyph;\r\n\t\t\t\t} else if (\r\n\t\t\t\t\toptions.prefix === \"fab\" ||\r\n\t\t\t\t\toptions.prefix === \"fal\" ||\r\n\t\t\t\t\toptions.prefix === \"far\" ||\r\n\t\t\t\t\toptions.prefix === \"fas\"\r\n\t\t\t\t) {\r\n\t\t\t\t\t// Hack for Font Awesome 5 - it needs two different prefixes.\r\n\t\t\t\t\tglyphClass = \"fa-\" + options.glyph;\r\n\t\t\t\t} else if (\r\n\t\t\t\t\toptions.glyph.slice(0, options.prefix.length + 1) ===\r\n\t\t\t\t\toptions.prefix + \"-\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tglyphClass = options.glyph;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tglyphClass = options.prefix + \"-\" + options.glyph;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar span = L.DomUtil.create(\r\n\t\t\t\t\t\"span\",\r\n\t\t\t\t\toptions.prefix + \" \" + glyphClass\r\n\t\t\t\t);\r\n\t\t\t\tspan.style.fontSize = options.glyphSize;\r\n\t\t\t\tspan.style.color = options.glyphColor;\r\n\t\t\t\tspan.style.width = options.iconSize[0] + \"px\";\r\n\t\t\t\tspan.style.lineHeight = options.iconSize[1] + \"px\";\r\n\t\t\t\tspan.style.textAlign = \"center\";\r\n\t\t\t\tspan.style.marginLeft = options.glyphAnchor[0] + \"px\";\r\n\t\t\t\tspan.style.marginTop = options.glyphAnchor[1] + \"px\";\r\n\t\t\t\tspan.style.pointerEvents = \"none\";\r\n\t\t\t\tspan.style.display = \"inline-block\";\r\n\r\n\t\t\t\tif (textContent) {\r\n\t\t\t\t\tspan.innerHTML = textContent;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn span;\r\n\t\t\t},\r\n\r\n\t\t\t_setIconStyles: function (div, name) {\r\n\t\t\t\tif (name === \"shadow\") {\r\n\t\t\t\t\treturn L.Icon.prototype._setIconStyles.call(\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\tdiv,\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar options = this.options,\r\n\t\t\t\t\tsize = L.point(options[\"iconSize\"]),\r\n\t\t\t\t\tanchor = L.point(options.iconAnchor);\r\n\r\n\t\t\t\tif (!anchor && size) {\r\n\t\t\t\t\tanchor = size.divideBy(2, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdiv.className =\r\n\t\t\t\t\t\"leaflet-marker-icon leaflet-glyph-icon \" + name;\r\n\t\t\t\tvar src = this._getIconUrl(\"icon\");\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\tdiv.style.backgroundImage = \"url('\" + src + \"')\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options.bgPos) {\r\n\t\t\t\t\tdiv.style.backgroundPosition =\r\n\t\t\t\t\t\t-options.bgPos.x + \"px \" + -options.bgPos.y + \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tif (options.bgSize) {\r\n\t\t\t\t\tdiv.style.backgroundSize =\r\n\t\t\t\t\t\toptions.bgSize.x + \"px \" + options.bgSize.y + \"px\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (anchor) {\r\n\t\t\t\t\tdiv.style.marginLeft = -anchor.x + \"px\";\r\n\t\t\t\t\tdiv.style.marginTop = -anchor.y + \"px\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (size) {\r\n\t\t\t\t\tdiv.style.width = size.x + \"px\";\r\n\t\t\t\t\tdiv.style.height = size.y + \"px\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tL.icon.glyph = function (options) {\r\n\t\t\treturn new L.Icon.Glyph(options);\r\n\t\t};\r\n\r\n\t\t// Base64-encoded version of glyph-marker-icon.png\r\n\t\tL.Icon.Glyph.prototype.options.iconUrl =\r\n\t\t\t\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=\";\r\n\t}\r\n}\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { CustomerAddress } from \"./customer-address.model\";\r\nimport { environment } from \"src/environments/environment\";\r\n\r\n@Injectable({\r\n\tprovidedIn: \"root\"\r\n})\r\nexport class MapboxV1Service {\r\n\tcalculate({\r\n\t\torigin,\r\n\t\tdestination,\r\n\t\tstops,\r\n\t\tstopOptions,\r\n\t\tstartTime,\r\n\t\tendTime\r\n\t}: {\r\n\t\torigin: CustomerAddress;\r\n\t\tdestination: CustomerAddress;\r\n\t\tstops: Array<CustomerAddress>;\r\n\t\tstopOptions?: Array<{ time: string }> | undefined;\r\n\t\tstartTime?: string | undefined;\r\n\t\tendTime?: string | undefined;\r\n\t}): Observable<any> {\r\n\t\tconst headers = new HttpHeaders({\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t});\r\n\t\tconst coordinates = [origin, ...stops, destination]\r\n\t\t\t.map((stop) => `${stop.longitude},${stop.latitude}`)\r\n\t\t\t.join(\";\");\r\n\r\n\t\treturn this.httpClient\r\n\t\t\t.get(\r\n\t\t\t\t`https://api.mapbox.com/optimized-trips/v1/mapbox/driving/${coordinates}?source=first&destination=last&access_token=${environment.mapboxToken}`,\r\n\t\t\t\t{ headers: headers }\r\n\t\t\t)\r\n\t\t\t.pipe(\r\n\t\t\t\tmap((res: any) => {\r\n\t\t\t\t\tres.solution = this.getSolutionWaypoints(res, [\r\n\t\t\t\t\t\torigin,\r\n\t\t\t\t\t\t...stops,\r\n\t\t\t\t\t\tdestination\r\n\t\t\t\t\t]);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\tprivate getSolutionWaypoints(res: any, locations: Array<CustomerAddress>) {\r\n\t\tconst copy: any = [...locations];\r\n\t\tlet sorted: any = [];\r\n\t\tif (res && res.waypoints) {\r\n\t\t\tfor (let i = 0; i < res.waypoints.length; i++) {\r\n\t\t\t\tcopy[i].order = res.waypoints[i].waypoint_index;\r\n\t\t\t}\r\n\t\t\tsorted = copy.sort((a, b) => a.order - b.order);\r\n\t\t}\r\n\t\treturn sorted;\r\n\t}\r\n\r\n\tconstructor(private httpClient: HttpClient) {}\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n\tproduction: false,\n\tmapboxToken:\n\t\t\"pk.eyJ1IjoibmlhYmgiLCJhIjoiY2xpMmVydW9kMGk4MzNybzNnaTJkcGRjZyJ9.RQV-lyZFmI2ERiHTUu5Low\"\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\n\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\n\nif (environment.production) {\n\tenableProdMode();\n}\n\nplatformBrowserDynamic()\n\t.bootstrapModule(AppModule)\n\t.catch(err => console.log(err));\n"],"names":["LeafletIconGlyphService","Component","latLng","tileLayer","default","jsonData","polyUtil","ConfirmationService","MapboxV1Service","MapboxService","AppComponent","constructor","confirmationService","mapboxService","leafletIconGlyphService","name","id","layers","attribution","zoom","center","undefined","setup","locations","data","map","address","isOrigin","isDestination","onAddNewCustomAddressButtonClicked","tmpSelectedLocations","selectedLocations","showCustomerAddressesModal","suggestLocations","event","selectedIds","location","suggestedLocations","filter","includes","company","toLocaleLowerCase","query","onLocationSelected","tmpSelectedLocation","onAddTmpLocationsButtonClicked","matches","length","msg","confirm","target","message","acceptLabel","rejectVisible","icon","accept","reject","resetOrigin","resetDestination","getOriginLocation","match","find","getIntermediateLocations","getDestinationLocation","onAddStopOptionButtonClicked","selectedStopOptions","JSON","parse","stringify","time","onCalculateRouteButtonClicked","origin","destination","stops","calculate","stopOptions","startTime","endTime","subscribe","res","console","log","solution","waypoints","L","latitude","longitude","routingControl","setWaypoints","polylineDecoded","decode","trips","geometry","droppoffsDurations","secondsToHoursAndMinutes","stopsToSeconds","travelDuration","duration","totalDuration","geoJSON","addTo","total","stop","h","m","split","hours","Number","parseInt","minutes","d","Math","floor","s","onMapReady","Routing","control","show","draggableWaypoints","showAlternatives","routeWhileDragging","lineOptions","styles","color","dashArray","opacity","weight","createMarker","i","wp","marker","glyph","prefix","selector","template","BrowserModule","BrowserAnimationsModule","NgModule","LeafletModule","InputTextModule","FormsModule","ButtonModule","ScrollPanelModule","DropdownModule","InputMaskModule","DividerModule","CheckboxModule","DialogModule","AutoCompleteModule","TooltipModule","ConfirmPopupModule","HttpClientModule","AppModule","declarations","imports","providers","bootstrap","Icon","Glyph","extend","options","iconSize","iconAnchor","popupAnchor","shadowSize","className","glyphColor","glyphSize","glyphAnchor","createIcon","div","document","createElement","appendChild","_createGlyph","_setIconStyles","glyphClass","textContent","slice","span","DomUtil","create","style","fontSize","width","lineHeight","textAlign","marginLeft","marginTop","pointerEvents","display","innerHTML","prototype","call","size","point","anchor","divideBy","src","_getIconUrl","backgroundImage","bgPos","backgroundPosition","x","y","bgSize","backgroundSize","height","iconUrl","HttpClient","HttpHeaders","Injectable","environment","httpClient","headers","coordinates","join","get","mapboxToken","pipe","getSolutionWaypoints","copy","sorted","order","waypoint_index","sort","a","b","providedIn","production","enableProdMode","platformBrowserDynamic","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}